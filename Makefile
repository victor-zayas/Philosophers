# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: vzayas-s <vzayas-s@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2022/09/29 19:16:20 by vzayas-s          #+#    #+#              #
#    Updated: 2023/05/23 12:06:34 by vzayas-s         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

# RULES #

# NAME #
NAME = philosophers

# FLAGS #
CC = gcc
CFLAGS = -Wall -Wextra -Werror -g3 -pthread -fsanitize=thread
RM = /bin/rm -rf

# INCLUDES #
INCDIR = includes/
INCLUDES = $(INCDIR)

# OBJS #
OBJS = $(SRCS:.c=.o)

OBJDIR := objs/
SRCDIR := src/

# SRC #
SRCS = philo.c	\

SRC := $(addprefix $(SRCDIR), $(SRCS))
OBJS := $(addprefix $(OBJDIR), $(OBJS))

# MAKEFILE ART #
# COLORS #
BLACK=\033[0;30m
RED=\033[0;31m
GREEN=\033[0;32m
YELLOW=\033[0;33m
BLUE=\033[0;34m
MAG=\033[0;35m
CYAN=\033[0;36m
WHITE=\033[0;37m
PAPYRUS=\033[38;5;223m
END=\033[0m

define PHILO
$(PAPYRUS)
????7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777???????????
??77777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777?????????
77777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777?777777?7?77777?????
77777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777?7777?77???
77777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777??7777??77??77777
7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777???????7?7??
777777777777777777777777777777777777777777777777777777!!777777777777777777777777777777777777777777777777777777777?777??777????????
777777777777777777777777777777777777777777777777777777!77??J?7777???777????????7JYYJ7777777777777777777777777777777777??77????????
7777777777777777777777777777777777777777777!!77???!!7?JYJ???77777777!777JYY??777???J?7777777777777777777777777777777777?7?77??????
777777777777777777777777777777777777777!!!!7???!!!!!!?J5Y?77!!!7??!!~!?J5YJ?777??77??77?YYJ??777777777777777777777777777777???????
7777777777777777777777777777777777!!77!!~~~!!!!!!!!7777???77!~~7J!!!~7????77!7JJ777!7J55PPP55J?7?777777777777777777777777?77??????
77777777777777777777777777777!!!!!!!!!!!!!!!!!!!!!!!!!!!~!7?7!~~7??77?7!!7??77JJ?7!~?55YJJJYY55JJJJ?7777777777777777777777777?????
77777777777777777777777777~~~~~!!!~~~!!!~!~~~!!!!!!7?7!!!!!?JJ7!!7?J????!!7???77?J?77JJ?????JYPP5Y5P5?777777777777777777777777????
777777777777777777777777!~~~~~!~~~~~~~~~~~~~~~~~~!!7J???7777JP57!!7??7?JJ??7?7??7?YY?7?JY5PP5PGGPP5555J77777777777777777777777????
777777777777777777777!~~~!~~~!~~~~~~~~~~~~~~!77777!!77JJ?7!7Y55?777?JJJ??Y5YJJ??J?JPJ?Y5PPGPPGG55PP5555YJ?7777777777777777777777??
77777777777777777777~~~~~~~^~!~~~~~!!!~!!!!!!7!!?7!~!?YYYJ7!7JY?7!!!?Y?77Y55JJ?7JYJG5Y5PPPP555J??YP555555YJ?77777777777777777777??
777777777777777777!~~~^~~~~~^~~~~~~~77!!!!!!!!!!77!~!?Y5Y?!~755?7!!7JPJ???JJYJ77?55P55YJY5JYPY7!??5PP5P555YYJ??77777777777777777??
7777777777777777!~~^~~~~~~^~~^^~~~~~!!!~!!~~~~~!77!~7J?J7!~!JY?!!!~?PGY??7!J5?7!YPPYJJ77JY?5Y?77??YPP5PYY5YY555Y?7777777777777777?
7777777777777777~~~~~~~^~~~~!!!!~~!~!~~~~~^~~^~!7!~~?7?7!~~7?!!!~~?55J777!!YJ77J5P5???77?5?Y?7!!7?PGP555YP5?JPPP5?7777777777777777
7777777777777!!~~~~^~~~^^^~!7!??~~!!~~~77~^~~^!?!~~7?!!!~!!7!!!~!7?77!!!!!??7?J??77??7777JYJJ?77YPGGPP55PPY?JP555P?777777777777777
777777777777!~~~~~~~^~~~~^~777777!77~^~JY!~~~!!!~~!!!~!~~!!7!!!!!777777!!7?777!!!77??JJJ?J5YJ?!JGGP5P55P5YY5GPP5PPP?77777777777777
77777777777!~~~~~~~!!~~!!~~!?J777!?7~~?5?~^^~!~~~~~~~~~~!!!77!!!!7777777777777777???JJJYYY5PJ?7PGPPP555555PP55PP5PPJ77777777777777
77777777777!~~^^^~~~!~!!7~~7??7777??~75?~^^^^~~~~~~~!~~!!!!7!!7!!7777777777???????JJJYYYY5555JYGPGP5555PGGGPY5PP55P5?7777777777777
7777777777!~~^^~~~~~!~~7?!~7?J??7!J?777~^^^^~~~~~~~~!~~~!7!!!!!!!!!!!7777777??7??JJJYYYYY555555PPGG55GGGGPPP5PPPPPPPY7777777777777
777777777!~~~^^~~!!~~!!7?!!7JJ??77J7!~^~~^^~^~~~~~~~~~~~!!~~~!!!!!!!!!!7!!777777???JJJY555555555PGP5GBBGPGGPPGPPPPPPP?777777777777
777777777~^^~!~~!77~!!!7?7!?YY?7!?7~~~~~~^^^~~^^~~~~~~~~~!!!~!!!!!!!!~!!!!7777?????JJYY5YYY555555PPPGGGGPPGPPPPPGPPPP5?77777777777
77777777!~~~^^~~!7!~!!7JJ77Y55?!!~^^~~^^~~^~~~~^^~~~~~~!!!!!~!!!!!!!~!~~~!7!777???J?YYYYJJYYY555PPPPPPPGPPPGGPPPGGP5PP577777777777
7777777!^^~~~~~~!7~!77?YJ77PPY7!~~^^^^^^^^^~~~~~~~~~~~~!!77777!!!!!!!!!!!777777!7?JJYYJJJYYYY5P5PPPPPPGGGPPGGPPGBPPPPPPY7777777777
7777777~~~~~^~~~77~~!?5Y?!JG57!!~~^^^^^^^^^^^~~~~^~!!!!!!7??7!!!!!!!777!7777??7!7JJJJJ?JJJJJY5PPPPPPPPPGBBGPPPPGBPPPPPPP?777777777
7777777~~~~~~!~7J!~~7YYJ?755?!!!~~^~~~^~~~~~!!~!~~!7777777??77!!!!!77777!7????JJYJYYJYJ?JJ?JYY5PPPPPPP5PGBBG5PPPBGPPPPPPY777777777
7777777~~~~~!J!JJ~~7JJYY?7Y?7!!~~~~~~!!!!7?JYYYYY55555Y???JY?77!!!7???JJJJYY55PGGGGGGGGGGP55PPPPPPPPPPPPPGBGPPGG#GPP5PPP5777777777
7777777!~~~~7Y?Y?~7JYPGY?JJ!!!~^~~!!!!77?Y5PGGBGBBBBGGP55555J?777??JJY5GBBBB####&&&####BBGGGBBBBGGGPGPPPPGGBPPPGBGPPPPPP5777777777
7777777!~!!^~J7!!7?JPGPY5J!~~!~~!7777???Y5PP5YYJY5PGGPP555YJ?777??JJ5PGB####&&&&##BBGGGGGPPPPGGGGGGGPPPPPPPPPPPGGGPGP55P5777777777
77777777!!?!~!7~~!7JGP??J7~~~~!?J?????YGGYJ????JYYY55555YJ??7!!!77?JPGGGB#######BBGGGGGPPPPGGGGGGGGGPGPPPPPPGPPGGGPGP5PGY777777777
777777777!!7!!!!!~!?5Y7??!!!!!7J???J5GBPYYYYJJ?JJYY55PP5Y?7!!!~!!!7J5GGGBBBBBBBBPYYYY5PPGBBGBB#BBGGGPPPPPPPPPPPGGPGGGGG5?777777777
77777777!!^!!!JYJ?77???7?!~!!!777?YPGG5YJ7!7!!!7??JJYY5J7!!~~!~!7?J55PGPGGGGGGGGYJ?JYY5PPPGGGBB#BBGPPPPPPPP55PP555GGGGBG?777777777
777777777?7~!~~7?777?777?7~!!!!!!!777777~~~!!!!7????J?77!~~^~~~!JY55PPPPPGGGPPG5?7?JJYYY55PPPGPPPPGPPPPPPP5PGPYYYPGBBB#G?777777777
777777777!!77!~!?7~~!7!7J?~~~~~~~~~!!!!!~~~~~!!!7777??7!!~^~~~~!?5GGGPPPPPPPGGGPJ?JJYY55PGPPPPYYY555PPPPP5GP5Y5PGGGGGGGP7777777777
777777777!!!~~!7???7!77!?7!!~~~~~~~!~~~~~~!!77??JJJJ?7!~~^^~~~~7YPGPPPPPPPPPPGGGPYY55PPPP55YYYJJJYY55PPPPPGYY5GGGPGGGGGJ7777777777
7777777777!~!7Y?7?7!!7??77!!~~~~~~~~~~~~~~~!!!7!777!~~~~~~~~!!~?YY5PPGGGPPPPPPPPPJ?7JJ????????JJYY55PPPPPGP5PGPPGGGGGGG?7777777777
7777777777~!77Y?!?!~!!?YJ!~~~~~~~~~~!!~~~~~~~~~!!!~~^~~~~~~~!~!7?YPGPP5PPPPPPPPYJ?77?77777777?JYY55PPPPPPGGPBGPPPBBGGG577777777777
7777777777!~~!J~^7!7!!?Y?!~~~~~~~~!!!!!~~~~~~~~~~^^^~~^~~~~~~~!7?YPPP55P555PP5YJ?????777??????JYY5PPPGP5PGGGGBPGGGBGPJ777777777777
77777777777^^!J~^77?7!?Y?!!~~~~~~!!!!!!!~~~~~~~^~~~~~~~~!~!~~^~!??JPPP5PP55P5YJ???7?????7??JJJY55PPPPP55GPPGGGPGBGGGP?777777777777
77777777777~:~7~^!7J7!JY7!!~~~!!!!!!!!!!!~~~~~~~~!!!!7!!!!~~~~~~!?J5PPPPP555P5J?777?JJJ??JJJY55PPPGGGP5PGPPGGGGPPGGGPY777777777777
77777777777!:^!!~~7?!7YJ!!!~~~!~!!!!!!!!~~~~~~~!!!7?J?7~!!!!!!!!7?Y5GGPPPP55PPY?7777?JJJJYY5555PPPGGP55GGPPPPGGGGBBGP5777777777777
777777777777!^^^~~~!!JJ!~~~~~~!!!!!!~!!!~~~~~!!!!77J?!~~!!7?7!!7?Y55GGGGGGP5PPPJ7777??JYY5Y5PPPPPGGGP5PGGPPPPPPGGPPPPY777777777777
7777777777777~~~!!~!!7!~~!!!!!!!!!!!!!!!~~~!!!7????7!!~~!!!7?77JJYPGBBGBBPPPPPP5J7????JJYYYPPPPPGGGP55PGPPPPPPPPP555P?777777777777
7777777777777~^!!^~~~~~!7!~!!~!!!!!!!~!!~!!!7777??!~^^^^^^^~7?YY5PBBBGGGPP5PP555Y?????JY55PPPPPPPGGP55PGPPPP5PPPPPPPJ7777777777777
77777777777777~~^^!!~~!7!~~!!!!~!!~~~~~~!!!!!!77!~~^^~~~~~~!!!?J55PGPP5555YYYYYYJ???JJY55PPPGGGPPPPP55PPPPPP5P5PPGP?77777777777777
77777777777777!~!7?7~~!!~~!7!!!!~~~~~~!!~!~~~~~~~^~~!!~~~~~!!!??J?!!77?JYJ??J?7?J5YJYYYYY5PPPPPPGPPPP5PPP5P55PP5PPJ777777777777777
7777777777777777JY?~~~!~~!7~!!~~~~~~~~~!~~~~^^^~^~!!!!!!~!77?J555?!!!??JYJYJYYJ?Y555555YJY5PPPPPPPPPPGPPPPGP5PPPPJ7777777777777777
777777777777777777~~~!!~!7!~~~~~~~~^~~~~^^^^^~~~~!77777!7?JY555Y?!~!?5YPGPP55Y5YYY5PP5P5555PPPPPPPP5PPPPGPGBPGGPJ77777777777777777
77777777777777777!!~!!!~!!~~^~^~~~~~~~~^^^^~!!!!7?YJJJJY5GGBGP5???J5GBB###BBBGGP555P5Y5PPPP5P55P55PPPPP5GPPBGGGG577777777777777777
77777777777777777~?!~!!!!77!!!~~~~~~~!~~~~^~!!!7JGGGBBBBBB#BBG5YY5GGGBBB##&&&&##GGGG5Y5PPPPPP5YP5YPPPPP5PPPGBBPPP?7777777777777777
77777777777777777!Y7~~~!~~!!~!~~7!~!77~~~~~!???JPG#&#&&#GYJ?77!!!!777??JY5GB##&&@&#5YPPPPGP555Y5Y5GPPP5PPP5PGBGGP?777777777777777?
7777777777777777!7J~!!~!~~~7~^~7?~!J7~~~~!!7JY5GGB#BBB57~^^~!!777777?YYY555PGGGB##P?JY5PPPP55YJYPGGPPPPPPPPPPPPBG?777777777777777?
7777777777777777!~!~~7!^~~!?~^~!!~7!~~~~~!7?JY5PGGGG57!~!!7JYY5555555PPPPGGGPP5PPGJ77JY5PPP5??YPGPP5PGPPGPPPPGPPY7777777777777777?
777777777777777?7^~~^!7!~~77~~!!~^~~^~~~~!7?JJY5PPP57!!!!!77JYYYYYJJJJJYY5555555PPY!7?J5PPGYJJ5GPPP55GGPGGGPPGBGJ777777777777777??
77777777777777777^^^^^!!~!?7~!~~^^^~^^~~!!!7?JJY55PY!!~~~!!!777????????JJJJJJYYYYYY77?JY5PGPYY5PGPPP5PPPPPGGGGGP?777777777777777??
777777777777??7??!^~^~7!?Y?~~~~^^^~!~~~~!!!!7?J?55Y7~~~~~~!!!!!7?77!77777????????JJ?77?JJYPGPPPGGGPPPPPGP5PBGGGY777777777777777???
?77?77?777?7???777~~~!777~^!!^^~~~~~~!~!!!7!7?YJY57~~~~~~~!!!!777!!!!!!!77?7777?7???777??J5PPPPGGPPPPPPGG555PPP?777777777777777???
?77?7777???7??????7!7?7~^~!7?7!7!~~~~!!~!7!!!7?J55!~~~~~~~~~!!!!!77~!!!7?77?77!777???7?JYY55555JY5GBBBGPGP5PPPP?777777777777?77???
?????7??????????????!7!^~!!7Y7~!!!~~~!7~~7!~~!7J5Y!~~~~~~~~~!!~!!!!!!!!!7JJ????77?JYY?7?JJYJ?Y55JJY5PPPPGP55PPY7777777777??7?7????
???????????????????!^^~~!!~JY!^^^~~~~7~~!!~^^!J55?~~~~~~!~~~!~~!!7!7!!7!!J5???YJ?JJ55J7!7J??7?PGGYJY5PPPGP5PPP?777777777?????7????
???????????????????7!^^~~~~JJ!~~~~~!~~^~~~~~7J5Y?!~^~^^~~~~~77~!77?77?7~?P5??JY5?YJ55Y!!!JJ??5PPGPPPPPPPP5PGPP?7777?77????7???????
?????????????????????~^~!~^7J!^^~~!~^^~!777?J?!!!!^^~~^~~^~~!!!????77!!?55J?Y5PY?YJ55?!~~?YJPP55JY5PGGPP5PGGG5???7777??7??????????
?????????????????????7!~~!~~!7~~~!!~!7??7!!!!!777~^^~~~~~!!!!!7??Y?7!7YP5??Y55JJYJ?YY7!~!?J?5PGPYY555PPGPPPBP?7?777???????????????
???????????????????????~^~!!~~~~~77!!!!~~!7?77!~~!~~~~!~~~~!!!!!7J?!7JYJ7!?Y?7YY?!!Y?7?77?J555PBB55JJ5PBGPPGJ7????????????????????
???????????????????????~^~7~!!!~77!!!!~!777!~~~!7!~~7!7~~~~77~~~!YJJY?!!~!?!!??7??!J7?Y55YYPGGP5BBY?75GBBGGJ7?????????????????????
???????????????????????~^~!~~!!7?77!~~!7!~~~~7JY!~~7?J7~~!?J7~~!J5?J?!~!!7!~~!77?JJJJJYPPP5Y555JPB5??PPPPB5???????????????????????
???????????????????????!^~~~^~~~!?7~~!7!~~!7?5PJ~~??JY!~7?J7!7?Y55?7!!~!!~!!!7???YPP5?YYP5YJJ?JYBGJ?5PPPP5?7??????????????????????
???????????????????????!~^~~!Y7^~?7~~!!~~777J5J!!JJJPY7!?7!!7?J555J!!!~~~~~!?J??JPPPGPYY555YJ7J5BPJJPPPPGGJ???????????????????????
???????????????????????!^^^~JY5?~!7~~!~~!7!?P577J7?5PY7~!!!7?7JY5YY!~~~~~!!!7JYJJ5PGGPJ?J5G5J7J5GBP55PPPBP????????????????????????
???????????????????????7^^^^!YPP7!!~~!!!777J5PJ7!!??557!7????Y5JYY5?!!~~~~777?Y5JJPGGPJJPGBGJ7J55G#GP5555?????????????????????????
???????????????????????7^^^~^~7J!~~!~~!JYJ?775Y7~!7!75Y!!7JY555JJJY5Y7!!~~7J77J55JPBBP5PPPPPGPPGP5B#BGPPPJ????????????????????????
???????????????????????7~~^~^~^^~~~~~!7??JJ7~7YY?7777?5Y7~7?J??JJJY5PP?!!~?5Y!?5P55G#G5PGG5?YGGYY5P##BGPPJ????????????????????????
???????????????????????7~~~~^^^~~!7!!77!!!77777?5YJ7???55!!?YJ777?Y55PP!~!J55!!YPGPPB#GPPGP?!YP5JJPGGBPP5?????????????????????????
????????????????????????!~~~~^~~~!?7777!~~~~7??7?PP7!!75P?7JPY77?YYP55PJ~!JPP??Y5PGGPB&GP557!YP5Y5GPPP5J??????????????????????????
????????????????????????!~~~~~~~~~???7!7~~~~!7!!75PP775P?!7YY?7!7YYP55P577YPP5YYYY55YG#B5J77YPP5PGGP5J????????????????????????????
????????????????????????7~~~~~~~~~!77?J5J77!!77~!YPPJ?J!~~7JJ7!!JPPPPPGGYJJYJ?7!?JJ55PG#P77YPPPPGGGPJ?????????????????????????????
?????????????????????????!~~!~~~~~~!75B#G?!!7!!?7JGG?!!!777J??J5GGGGP5PGGJ??J?JJJY5PPPG##5?YPPPGBGGY??????????????????????????????
??????????????????????????!~!~~~~~!!!7J55J!!77JPJPBG7!!7JYJY5PPGGGGG55PGYJ7!77?JPGBBGGG##G5Y5PGBBBY???????????????????????????????
???????????????????????????7!!!~!!~!!!!!!77!7J5PGBBJ7?75GYJJJYYPBB5YJYGG!?J??7?J555GGGPB#BBGGGBBGY????????????????????????????????
????????????????????????????7!~!!!!~!!!!!~~!J5GBBBG5P5?YJ????55BBJ77~JPG?!???77??JY5GGGBBBBGGBG5??????????????????????????????????
??????????????????????????????7!!!~!!!7!7!!!7JPPGBBB5J77!777JPPGG??77YYPPJ!7JY7!77?5GGGGGGGGBPJ???????????????????????????????????
?????????????????????????????????7!!77!77!!!77??Y5PGGP5JJ???YPPPPYJYY555YY7??7~7Y5PGBBBBBBGPJ?????????????????????????????????????
????????????????????????????????????JJJJJ?7777777??JYY5PPP5555555JJ5GGG55P?~~~JPGBBBBBBGP5J???????????????????????????????????????
?????????????????????????????????????J?????77J??JJJJJ7JJYY5PGGGGGPGGBBBGPY??J5GBBBPP55J???????????????????????????????????????????
?????????????????????????????????????????????JJ?J5J??7???JJJYPPGBBBBBBBBGGGBBBGG5J????????????????????????????????????????????????
?????????????????????????????????????????????????JJJJJ5555YYYJY5PGBBBBBB#G5YJ?????????????????????????????????????????????????????
??????????????????????????????????????????????????????&@@@@&&&&&&&&@@@@@@G????????????????????????????????????????????????????????
??????????????????????????????????????????????????????#@@@@@@@@@@@@@@@@@@G????????????????????????????????????????????????????????
$(END)
endef
export PHILO

# COMPILATION #
.SILENT:

all: $(NAME) $(INCLUDES)

$(OBJDIR)%.o: $(SRCDIR)%.c
	mkdir -p $(OBJDIR)
	$(CC) $(CFLAGS) -I $(INCLUDES) -c $^ -o $@

$(NAME): $(OBJS)
	make -C $(LIBFTDIR) all
	$(CC) $(CFLAGS) $^ -o $(NAME)
#	open The_file/philosophers.jpeg
	echo "$(BLUE)༺ library created༻$(END)"
#	echo "$$PHILO"

clean:
	rm -rf $(OBJDIR)
	$(RM) $(OBJS)
	echo "$(RED)༺ Objs deleted༻$(END)"

fclean: clean
	$(RM) $(NAME)
		echo "$(YELLOW)༺ Executable deleted༻$(END)"

re: fclean all

.PHONY: all clean fclean re

####### TOTALMENTE INNECESARIO #######
#ifeq ($(USER), $(filter $(USER), "intra_user"))
#		echo $$"TEXT" (Variable de entorno a exportar)
#		osascript -e "set Volume 10" (ajustar el volumen del ordenador)
#		say --voice="Luciana" rellenar con mensaje. (reproduce el mensaje en el idioma seleccionado)
#endif
####### 	  NO BORRAR		   #######